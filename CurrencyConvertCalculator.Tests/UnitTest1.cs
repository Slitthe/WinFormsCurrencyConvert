using System.Collections.Generic;
using Microsoft.VisualStudio.TestTools.UnitTesting;
using CurrencyConvertService;
using Microsoft.VisualStudio.TestPlatform.Common.Utilities;

namespace CurrencyConvertCalculator.Tests
{
    [TestClass]
    public class CurrencyCalculatorUnitTests
    {
        [TestMethod]
        public void TestConvertRate()
        {
            var convertRates = new Dictionary<string, float>
            {
                {"AED", 4.224365f}, {"AFN", 86.990346f}, {"ALL", 125.430214f}, {"AMD", 556.276319f},
                {"ANG", 2.031736f},
                {"AOA", 349.295426f},
                {"ARS", 42.955005f},
                {"AUD", 1.615268f},
                {"AWG", 2.070665f},
                {"AZN", 1.957957f},
                {"BAM", 1.955315f},
                {"BBD", 2.290784f},
                {"BDT", 96.604069f},
                {"BGN", 1.955431f},
                {"BHD", 0.433517f},
                {"BIF", 2032.540661f},
                {"BMD", 1.15005f},
                {"BND", 1.586842f},
                {"BOB", 7.909181f},
                {"BRL", 4.273469f},
                {"BSD", 1.144438f},
                {"BTC", 0.000177f},
                {"BTN", 85.28121f},
                {"BWP", 12.482613f},
                {"BYN", 2.464959f},
                {"BYR", 22540.977715f},
                {"BZD", 2.300388f},
                {"CAD", 1.487532f},
                {"CDF", 1868.830797f},
                {"CHF", 1.140091f},
                {"CLF", 0.025996f},
                {"CLP", 782.828062f},
                {"CNY", 7.956853f},
                {"COP", 3486.893744f},
                {"CRC", 672.457622f},
                {"CUC", 1.15005f},
                {"CUP", 30.476322f},
                {"CVE", 110.240326f},
                {"CZK", 25.812984f},
                {"DJF", 204.386942f},
                {"DKK", 7.459571f},
                {"DOP", 57.084452f},
                {"DZD", 136.361603f},
                {"EGP", 20.611768f},
                {"ERN", 17.251093f},
                {"ETB", 31.798896f},
                {"EUR", 1f},
                {"FJD", 2.465367f},
                {"FKP", 0.874044f},
                {"GBP", 0.873467f},
                {"GEL", 3.018864f},
                {"GGP", 0.873581f},
                {"GHS", 5.651518f},
                {"GIP", 0.874044f},
                {"GMD", 56.944694f},
                {"GNF", 10355.106229f},
                {"GTQ", 8.819159f},
                {"GYD", 236.996513f},
                {"HKD", 9.012136f},
                {"HNL", 27.516667f},
                {"HRK", 7.414314f},
                {"HTG", 80.326962f},
                {"HUF", 324.716811f},
                {"IDR", 17471.270316f},
                {"ILS", 4.171139f},
                {"IMP", 0.873581f},
                {"INR", 85.270423f},
                {"IQD", 1365.741739f},
                {"IRR", 48422.850401f},
                {"ISK", 132.589563f},
                {"JEP", 0.873581f},
                {"JMD", 152.651849f},
                {"JOD", 0.815964f},
                {"JPY", 129.984357f},
                {"KES", 116.201352f},
                {"KGS", 79.717663f},
                {"KHR", 4660.125303f},
                {"KMF", 492.997608f},
                {"KPW", 1035.083356f},
                {"KRW", 1303.914799f},
                {"KWD", 0.349154f},
                {"KYD", 0.953846f},
                {"KZT", 425.765694f},
                {"LAK", 9765.876581f},
                {"LBP", 1731.720474f},
                {"LKR", 195.61774f},
                {"LRD", 180.270108f},
                {"LSL", 16.911481f},
                {"LTL", 3.395798f},
                {"LVL", 0.695654f},
                {"LYD", 1.588797f},
                {"MAD", 10.901897f},
                {"MDL", 19.45312f},
                {"MGA", 4019.942076f},
                {"MKD", 61.561756f},
                {"MMK", 1793.905429f},
                {"MNT", 2949.257067f},
                {"MOP", 9.236223f},
                {"MRO", 410.567847f},
                {"MUR", 39.619209f},
                {"MVR", 17.722332f},
                {"MWK", 829.542462f},
                {"MXN", 21.850143f},
                {"MYR", 4.77443f},
                {"MZN", 69.543272f},
                {"NAD", 16.928612f},
                {"NGN", 416.639894f},
                {"NIO", 36.743519f},
                {"NOK", 9.454767f},
                {"NPR", 136.177198f},
                {"NZD", 1.773319f},
                {"OMR", 0.442759f},
                {"PAB", 1.144604f},
                {"PEN", 3.802986f},
                {"PGK", 3.843524f},
                {"PHP", 62.275083f},
                {"PKR", 147.194707f},
                {"PLN", 4.303199f},
                {"PYG", 6757.112464f},
                {"QAR", 4.187445f},
                {"RON", 4.662761f},
                {"RSD", 118.490151f},
                {"RUB", 75.984484f},
                {"RWF", 1013.895478f},
                {"SAR", 4.312974f},
                {"SBD", 9.2372f},
                {"SCR", 15.661385f},
                {"SDG", 20.67962f},
                {"SEK", 10.445101f},
                {"SGD", 1.587764f},
                {"SHP", 1.519103f},
                {"SLL", 9602.916834f},
                {"SOS", 668.179079f},
                {"SRD", 8.57707f},
                {"STD", 24517.193328f},
                {"SVC", 10.015321f},
                {"SYP", 592.27573f},
                {"SZL", 17.134564f},
                {"THB", 37.816513f},
                {"TJS", 10.788101f},
                {"TMT", 4.025175f},
                {"TND", 3.260624f},
                {"TOP", 2.643273f},
                {"TRY", 7.003304f},
                {"TTD", 7.714655f},
                {"TWD", 35.628585f},
                {"TZS", 2630.866563f},
                {"UAH", 32.117427f},
                {"UGX", 4341.438509f},
                {"USD", 1.15005f},
                {"UYU", 37.83492f},
                {"UZS", 9364.108583f},
                {"VEF", 285810.339149f},
                {"VND", 26735.037132f},
                {"VUV", 132.102042f},
                {"WST", 3.035975f},
                {"XAF", 655.815821f},
                {"XAG", 0.07989f},
                {"XAU", 0.000966f},
                {"XCD", 3.108067f},
                {"XDR", 0.825607f},
                {"XOF", 655.701245f},
                {"XPF", 119.225819f},
                {"YER", 287.472229f},
                {"ZAR", 16.720046f},
                {"ZMK", 10351.826009f},
                {"ZMW", 14.277295f},
                {"ZWL", 370.724343f}
            };

            var ratesData = new CurrencyConvertService.CurrencyConvertCalculator(convertRates);

            float convertTest1 = ratesData.ConvertFromAndTo("RON", "USD", 2f);
            float convertTest2 = ratesData.ConvertFromAndTo("AUD", "EUR", 1f);
            float convertTest3 = ratesData.ConvertFromAndTo("GBP", "USD", 3.14f);
            float convertTest4 = ratesData.ConvertFromAndTo("EUR", "RON", 5f);



            Assert.AreEqual(convertTest1, 0.4929f, 0.01);
            Assert.AreEqual(convertTest2, 0.618819333f, 0.01);
            Assert.AreEqual(convertTest3, 4.13530464f, 0.01);
            Assert.AreEqual(convertTest4, 23.3181173f, 0.01);




        }
    }
}
